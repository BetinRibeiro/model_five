# -*- coding: utf-8 -*-
db.define_table('pagamento_sistema',
                Field('empresa','reference empresa', writable=False, readable=False, label='Empresa'),
                Field('data_vencimento', 'date', label="Data Vencimento", writable=True, readable=True, default=request.now, notnull=True),
                Field('status', 'string', label='status',default='Aguardando'),
                Field('valor', 'double', label='Valor', notnull=True, default=0),
                auth.signature,
                format='%(status)s')

db.define_table('carrada',
              Field('empresa','reference empresa', label='Empresa', writable=True, readable=True),
              Field('projeto','reference projeto', label='Projeto', writable=True, readable=True),
              Field('data_envio', 'date', label="Data Envio", default=request.now, notnull=True),
              Field('descricao', 'string', label='Descricao',requires = IS_UPPER()),
              Field('q_itens', 'integer', label='Q Itens', writable=False, readable=False, default=0),
              Field('custo_total', 'double', writable=False, readable=False, label='Custo Total', notnull=True, default=0),
              Field('preco_total', 'double', writable=False, readable=False, label='Preco Total', notnull=True, default=0),
              Field('observacao', 'text', label='Observação',requires = IS_UPPER()),
              Field('conferida', 'boolean', writable=False, readable=False, default=False),
              format='%(descricao)s')

db.define_table('item_carrada',
              Field('empresa','reference empresa', label='Empresa', writable=True, readable=True),
              Field('projeto','reference projeto', label='Projeto', writable=True, readable=True),
              Field('carrada','reference carrada', label='Carrada', writable=True, readable=True),
              Field('produto','reference produto', label='Produto', writable=True, readable=True),
              Field('descricao', 'string', label='Descricao',requires = IS_UPPER()),
              Field('fornecedor', 'string', label='Fornecedor',requires = IS_UPPER()),
              Field('q_itens', 'integer', label='Quantidade', writable=True, readable=True, default=0),
              Field('custo_unitario', 'double', writable=True, readable=True, label='Custo Unitario', notnull=True, default=0),
              Field('preco_unitario', 'double', writable=True, readable=True, label='Preco Unitario', notnull=True, default=0),
              Field('custo_total', 'double', writable=False, readable=False, label='Custo Total', notnull=True, default=0),
              Field('preco_total', 'double', writable=False, readable=False, label='Preco Total', notnull=True, default=0),
              Field('conferida', 'boolean', writable=False, readable=False, default=False),
              format='%(descricao)s')

db.define_table('vendedor',
              Field('empresa','reference empresa', label='Empresa', writable=True, readable=True),
              Field('projeto','reference projeto', label='Equipe', writable=True, readable=True),
              Field('pessoa','reference pessoa', label='Pessoa', writable=True, readable=True),
              Field('nome', 'string', label='Nome',requires = IS_UPPER()),
              Field('vale_saida', 'double',label='Vale da Saida', notnull=True, default=0),
              Field('comissao_venda', 'double',label='% Comissão', notnull=True, default=20),
              Field('total_vale_caderno', 'double',label='Vale Caderno', writable=False, readable=False , notnull=True, default=0),
              Field('total_vendas', 'double', label='Venda a Prazo',writable=False, readable=False , notnull=True, default=0),
              Field('total_entradas', 'double', label='Entrada Venda',writable=False, readable=False , notnull=True, default=0),
              Field('total_fichas', 'integer', label='Quant Fichas',writable=False, readable=False , notnull=True, default=0),
              Field('comissao_cobranca', 'double',label='% Comissão Cobrança',writable=False, readable=False, notnull=True, default=10),
              Field('total_recebido', 'double',label='Vale Caderno', writable=False, readable=False , notnull=True, default=0),
              Field('total_devolvido', 'double', label='Venda a Prazo',writable=False, readable=False , notnull=True, default=0),
              Field('total_prego', 'double', label='Entrada Venda',writable=False, readable=False , notnull=True, default=0),
              format='%(nome)s')
